{"ast":null,"code":"var _jsxFileName = \"/Users/ayushi/Documents/My-Projects/SkinShots_AI_powered_skincare_platform/frontend/src/pages/ProductFinderPage.jsx\",\n  _s = $RefreshSig$();\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"../App.css\";\nimport { useState, useEffect } from \"react\";\nimport { navigate, useNavigate } from \"react-router-dom\";\nimport { Container, Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProductFinderPage() {\n  _s();\n  const [step, setStep] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [isComplete, setIsComplete] = useState(false);\n  const [personalisedProducts, setPersonalisedProducts] = useState([]);\n  const navigate = useNavigate();\n  const questions = [{\n    key: \"gender\",\n    question: \"What is your gender?\",\n    options: [\"Male\", \"Female\", \"Prefer not to answer\"]\n  }, {\n    key: \"age\",\n    question: \"What is your age?\",\n    options: [\"Below 20\", \"20-30\", \"31-40\", \"Above 40\"]\n  }, {\n    key: \"skinConcern\",\n    question: \"What is your primary Skin Concern?\",\n    options: [\"Acne\", \"Blackheads\", \"Dark Spots\", \"Pores\", \"Wrinkles\"]\n  }, {\n    key: \"skinType\",\n    question: \"What is your skin type?\",\n    options: [\"Oily\", \"Dry\", \"Combination\", \"Normal\", \"Sensitive\"]\n  }, {\n    key: \"sunExposure\",\n    question: \"How often are you exposed to sunlight?\",\n    options: [\"Rarely\", \"Occasionally\", \"Daily for 1-2 hours\", \"Daily for 3+ hours\"]\n  }, {\n    key: \"makeup\",\n    question: \"Do you wear makeup regularly?\",\n    options: [\"Yes, daily\", \"Occasionally\", \"No\"]\n  }];\n  const current = questions[step];\n  const handleAnswers = value => {\n    const key = current.key;\n    const finalAnswers = {\n      ...answers,\n      [key]: value\n    };\n    setAnswers(finalAnswers);\n    if (step < questions.length - 1) {\n      setStep(step + 1);\n    } else {\n      setIsComplete(true);\n    }\n  };\n  useEffect(() => {\n    if (isComplete) {\n      fetchPersonalisedProducts();\n    }\n  }, [isComplete]);\n  const fetchPersonalisedProducts = async () => {\n    const res = await fetch(\"http://127.0.0.1:5000/api/ai-product-recommendation/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application-json\"\n      },\n      body: JSON.stringify({\n        answers\n      })\n    });\n    const data = await res.json();\n    setPersonalisedProducts(data);\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: !isComplete ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"questions\",\n          children: current.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this), current.options.map((option, index) => /*#__PURE__*/_jsxDEV(Button, {\n          className: \"option-buttons\",\n          onClick: () => handleAnswers(option),\n          children: option\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 33\n        }, this))]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"recommendations\",\n          children: \"Personalised product recommendations for you\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"recommendations\",\n          children: \"(We will use the list below as prompt for out ChatGPT API)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this), Object.entries(answers).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"answer-list\",\n          children: [key, \": \", value]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n_s(ProductFinderPage, \"Ap1HSN0h24Pc47TzgkPygg6lgJU=\", false, function () {\n  return [useNavigate];\n});\n_c = ProductFinderPage;\nvar _c;\n$RefreshReg$(_c, \"ProductFinderPage\");","map":{"version":3,"names":["useState","useEffect","navigate","useNavigate","Container","Button","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductFinderPage","_s","step","setStep","answers","setAnswers","isComplete","setIsComplete","personalisedProducts","setPersonalisedProducts","questions","key","question","options","current","handleAnswers","value","finalAnswers","length","fetchPersonalisedProducts","res","fetch","method","headers","body","JSON","stringify","data","json","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","option","index","onClick","Object","entries","_c","$RefreshReg$"],"sources":["/Users/ayushi/Documents/My-Projects/SkinShots_AI_powered_skincare_platform/frontend/src/pages/ProductFinderPage.jsx"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css';\nimport \"../App.css\"\n\nimport {useState, useEffect} from \"react\";\nimport {navigate, useNavigate} from \"react-router-dom\";\nimport {Container, Button} from \"react-bootstrap\";\n\n\nexport default function ProductFinderPage(){\n\n    const [step, setStep] = useState(0);\n    const [answers, setAnswers] = useState({});\n    const [isComplete, setIsComplete] = useState(false);\n    const [personalisedProducts, setPersonalisedProducts] = useState([]);\n    const navigate = useNavigate();\n\n    const questions = [\n        { key: \"gender\", question: \"What is your gender?\", options: [\"Male\", \"Female\", \"Prefer not to answer\"] },\n        { key: \"age\", question: \"What is your age?\", options: [\"Below 20\", \"20-30\", \"31-40\", \"Above 40\"] },\n        { key: \"skinConcern\", question: \"What is your primary Skin Concern?\", options: [\"Acne\", \"Blackheads\", \"Dark Spots\", \"Pores\", \"Wrinkles\"] },\n        { key: \"skinType\", question: \"What is your skin type?\", options: [\"Oily\", \"Dry\", \"Combination\", \"Normal\", \"Sensitive\"] },\n        { key: \"sunExposure\", question: \"How often are you exposed to sunlight?\", options: [\"Rarely\", \"Occasionally\", \"Daily for 1-2 hours\", \"Daily for 3+ hours\"] },\n        { key: \"makeup\", question: \"Do you wear makeup regularly?\", options: [\"Yes, daily\", \"Occasionally\", \"No\"] }\n    ];\n\n    const current = questions[step];\n    \n    const handleAnswers = (value) => {\n        const key = current.key;\n        const finalAnswers = { ...answers, [key] : value };\n        setAnswers(finalAnswers);\n\n        if (step < questions.length-1){\n            setStep(step+1);\n        } else{\n            setIsComplete(true);\n        }\n    };\n\n    useEffect(() => { \n        if(isComplete){\n            fetchPersonalisedProducts();\n        }\n    }, [isComplete]);\n\n    const fetchPersonalisedProducts = async () => {\n        const res = await fetch(\"http://127.0.0.1:5000/api/ai-product-recommendation/\",{\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application-json\"},\n            body: JSON.stringify({answers})\n        });\n        const data = await res.json();\n        setPersonalisedProducts(data);\n    }\n    \n\n    \n    return(\n        <main>\n\n            {/* ----------- Product Finder Section -----------*/}  \n\n            <Container>\n                { !isComplete ? (\n                    <>\n                        <h2 className = \"questions\">\n                            {current.question}\n                        </h2>\n                        {current.options.map((option,index) => (\n                            \n                                <Button\n                                    className = \"option-buttons\" \n                                    key = {index}\n                                    onClick = {() => handleAnswers(option)}\n                                >\n                                    {option}\n                                </Button>\n\n                        ))}  \n                    </>\n                ) : (\n                    <>\n                        <h2 className = \"recommendations\">Personalised product recommendations for you</h2>\n                        <p className = \"recommendations\">(We will use the list below as prompt for out ChatGPT API)</p>\n                        {Object.entries(answers).map(([key,value]) => (\n                            <ul key={key} className = \"answer-list\">{key}: {value}</ul>\n                        ))}\n                    </>\n                )}\n                \n            </Container>\n\n        </main>\n    );\n\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}